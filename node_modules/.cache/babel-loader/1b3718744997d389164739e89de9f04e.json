{"ast":null,"code":"import axios from \"axios\";\nimport _ from \"lodash\";\nrequire(\"dotenv\").config();\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL\n\n  //  withCredentials: true\n});\nif (localStorage.getItem(\"token\")) {\n  instance.interceptors.request.use(config => {\n    config.headers.authorization = \"Bearer \" + localStorage.getItem(\"token\").replaceAll('\"', \"\");\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n}\ninstance.interceptors.response.use(response => {\n  // Thrown error for request with OK status code\n  const {\n    data\n  } = response;\n  return response.data;\n});\nexport default instance;","map":{"version":3,"names":["axios","_","require","config","instance","create","baseURL","process","env","REACT_APP_BACKEND_URL","localStorage","getItem","interceptors","request","use","headers","authorization","replaceAll","error","Promise","reject","response","data"],"sources":["C:/Code/ecom/eCommerce_Reactjs/src/axios.js"],"sourcesContent":["import axios from \"axios\";\r\nimport _ from \"lodash\";\r\nrequire(\"dotenv\").config();\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL,\r\n\r\n    //  withCredentials: true\r\n});\r\nif (localStorage.getItem(\"token\")) {\r\n    instance.interceptors.request.use(\r\n        (config) => {\r\n            config.headers.authorization =\r\n                \"Bearer \" + localStorage.getItem(\"token\").replaceAll('\"', \"\");\r\n\r\n            return config;\r\n        },\r\n        (error) => {\r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n}\r\n\r\ninstance.interceptors.response.use((response) => {\r\n    // Thrown error for request with OK status code\r\n    const { data } = response;\r\n    return response.data;\r\n});\r\n\r\nexport default instance;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,CAAC,MAAM,QAAQ;AACtBC,OAAO,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;AAE1B,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC1BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC;;EAErB;AACJ,CAAC,CAAC;AACF,IAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;EAC/BP,QAAQ,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5BX,MAAM,IAAK;IACRA,MAAM,CAACY,OAAO,CAACC,aAAa,GACxB,SAAS,GAAGN,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAACM,UAAU,CAAC,GAAG,EAAE,EAAE,CAAC;IAEjE,OAAOd,MAAM;EACjB,CAAC,EACAe,KAAK,IAAK;IACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;EAChC,CACJ,CAAC;AACL;AAEAd,QAAQ,CAACQ,YAAY,CAACS,QAAQ,CAACP,GAAG,CAAEO,QAAQ,IAAK;EAC7C;EACA,MAAM;IAAEC;EAAK,CAAC,GAAGD,QAAQ;EACzB,OAAOA,QAAQ,CAACC,IAAI;AACxB,CAAC,CAAC;AAEF,eAAelB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}